import React, { useState, useEffect } from 'react';\nimport { ChevronRight, Star, MessageCircle, Calendar, CheckCircle } from 'lucide-react';\nimport '../styles/onboarding.css';\n\nconst OnboardingDashboard = ({ user, suggestedPartners, onPartnerSelect, onTutorialComplete }) => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [tutorialActive, setTutorialActive] = useState(true);\n  const [completedActions, setCompletedActions] = useState({\n    viewedProfile: false,\n    sentMessage: false,\n    addedFavorite: false,\n  });\n\n  const tutorialSteps = [\n    {\n      id: 'view-profile',\n      title: 'Visualizza un Profilo',\n      description: 'Clicca su uno dei partner consigliati per vedere i dettagli completi',\n      action: 'Clicca su un profilo',\n      icon: 'üëÅÔ∏è',\n    },\n    {\n      id: 'send-message',\n      title: 'Invia il Tuo Primo Messaggio',\n      description: 'Contatta il partner per iniziare una conversazione',\n      action: 'Invia un messaggio',\n      icon: 'üí¨',\n    },\n    {\n      id: 'add-favorite',\n      title: 'Aggiungi ai Preferiti',\n      description: 'Salva i partner che ti interessano per un accesso rapido',\n      action: 'Aggiungi ai preferiti',\n      icon: '‚≠ê',\n    },\n  ];\n\n  const handleActionComplete = (actionId) => {\n    setCompletedActions((prev) => ({\n      ...prev,\n      [actionId]: true,\n    }));\n\n    const nextStep = currentStep + 1;\n    if (nextStep < tutorialSteps.length) {\n      setCurrentStep(nextStep);\n    } else {\n      setTutorialActive(false);\n      onTutorialComplete();\n    }\n  };\n\n  const allActionsCompleted = Object.values(completedActions).every((v) => v === true);\n\n  return (\n    <div className=\"onboarding-dashboard\">\n      {/* Hero Section */}\n      <div className=\"onboarding-hero\">\n        <div className=\"hero-content\">\n          <h1 className=\"hero-title\">Trova il Tuo Partner Ideale in Africa</h1>\n          <p className=\"hero-subtitle\">\n            Scopri opportunit√† di collaborazione con le aziende pi√π affidabili del continente africano\n          </p>\n          <div className=\"hero-stats\">\n            <div className=\"stat\">\n              <span className=\"stat-number\">500+</span>\n              <span className=\"stat-label\">Partner Verificati</span>\n            </div>\n            <div className=\"stat\">\n              <span className=\"stat-number\">15+</span>\n              <span className=\"stat-label\">Settori</span>\n            </div>\n            <div className=\"stat\">\n              <span className=\"stat-number\">3</span>\n              <span className=\"stat-label\">Paesi</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Suggested Partners Section */}\n      <div className=\"suggested-partners-section\">\n        <h2 className=\"section-title\">Partner Consigliati per Te</h2>\n        <p className=\"section-subtitle\">Basato sulla compatibilit√† con il tuo profilo aziendale</p>\n\n        <div className=\"partners-grid\">\n          {suggestedPartners && suggestedPartners.length > 0 ? (\n            suggestedPartners.slice(0, 5).map((partner) => (\n              <div key={partner.id} className=\"partner-card\">\n                <div className=\"partner-header\">\n                  <div className=\"partner-info\">\n                    <h3 className=\"partner-name\">{partner.company_name}</h3>\n                    <p className=\"partner-location\">\n                      üìç {partner.city}, {partner.country}\n                    </p>\n                  </div>\n                  <div className=\"match-score\">\n                    <span className=\"score-value\">{partner.match_score}%</span>\n                    <span className=\"score-label\">Compatibilit√†</span>\n                  </div>\n                </div>\n\n                <div className=\"partner-body\">\n                  <p className=\"partner-description\">{partner.description}</p>\n                  <div className=\"partner-services\">\n                    {partner.services_offered && partner.services_offered.length > 0 && (\n                      <>\n                        <p className=\"services-label\">Servizi:</p>\n                        <div className=\"services-list\">\n                          {partner.services_offered.slice(0, 3).map((service, idx) => (\n                            <span key={idx} className=\"service-tag\">\n                              {service}\n                            </span>\n                          ))}\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"partner-footer\">\n                  <button\n                    className=\"btn-view-profile\"\n                    onClick={() => onPartnerSelect(partner.id)}\n                  >\n                    Visualizza Profilo <ChevronRight size={16} />\n                  </button>\n                  <button className=\"btn-favorite\" title=\"Aggiungi ai preferiti\">\n                    <Star size={18} />\n                  </button>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"no-partners\">Nessun partner suggerito al momento. Completa il tuo profilo per ricevere suggerimenti personalizzati.</p>\n          )}\n        </div>\n      </div>\n\n      {/* Tutorial Section */}\n      {tutorialActive && (\n        <div className=\"tutorial-section\">\n          <div className=\"tutorial-container\">\n            <div className=\"tutorial-progress\">\n              <h3 className=\"tutorial-title\">Inizia in 3 Semplici Passi</h3>\n              <div className=\"progress-bar\">\n                <div\n                  className=\"progress-fill\"\n                  style={{\n                    width: `${((currentStep + 1) / tutorialSteps.length) * 100}%`,\n                  }}\n                />\n              </div>\n              <p className=\"progress-text\">\n                Passo {currentStep + 1} di {tutorialSteps.length}\n              </p>\n            </div>\n\n            <div className=\"tutorial-steps\">\n              {tutorialSteps.map((step, idx) => (\n                <div\n                  key={step.id}\n                  className={`tutorial-step ${\n                    idx === currentStep ? 'active' : idx < currentStep ? 'completed' : ''\n                  }`}\n                >\n                  <div className=\"step-icon\">\n                    {idx < currentStep ? (\n                      <CheckCircle size={24} className=\"check-icon\" />\n                    ) : (\n                      <span className=\"step-number\">{idx + 1}</span>\n                    )}\n                  </div>\n                  <div className=\"step-content\">\n                    <h4 className=\"step-title\">{step.title}</h4>\n                    <p className=\"step-description\">{step.description}</p>\n                    {idx === currentStep && (\n                      <p className=\"step-action\">{step.action}</p>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {allActionsCompleted && (\n              <div className=\"tutorial-complete\">\n                <div className=\"complete-message\">\n                  <h4>üéâ Fantastico! Hai completato il tutorial!</h4>\n                  <p>Ora sei pronto a esplorare tutte le funzionalit√† di Africa Business Bridge.</p>\n                </div>\n                <button\n                  className=\"btn-continue\"\n                  onClick={() => setTutorialActive(false)}\n                >\n                  Continua alla Dashboard Completa\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Quick Actions */}\n      <div className=\"quick-actions-section\">\n        <h3 className=\"section-title\">Azioni Rapide</h3>\n        <div className=\"quick-actions-grid\">\n          <div className=\"quick-action-card\">\n            <MessageCircle size={24} className=\"action-icon\" />\n            <h4>Messaggi</h4>\n            <p>Comunica direttamente con i tuoi partner</p>\n          </div>\n          <div className=\"quick-action-card\">\n            <Calendar size={24} className=\"action-icon\" />\n            <h4>Incontri B2B</h4>\n            <p>Programma videochiamate con i partner</p>\n          </div>\n          <div className=\"quick-action-card\">\n            <Star size={24} className=\"action-icon\" />\n            <h4>Preferiti</h4>\n            <p>Salva i partner che ti interessano</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OnboardingDashboard;\n
